<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>jQuery事件</title>
		<style>
			div {
				width: 80px;
				height: 80px;
				margin: 10px;
				background-color: pink;
			}

			.current {
				background-color: purple;
			}
		</style>
		<script src="../0.File/jquery.min.js"></script>
		<script>
			$(function() {
				/* 一、--jQuery事件注册-- 
				1. 单个注册事件,语法:element.事件(function(){};
				2. 其他与原生基本一样.
				*/
				$('.box1').click(function() {
					$(this).css('background', 'red');
				});

				/* 二、--jQuery事件处理--
				1. 语法:element.on(event,[selector],fn);
				2. 参数:(1).events,一个或多个事件类型(逗号隔开).
				        (2).selector,元素的子元素选择器.
						(3).fn,回调函数,
				3. on()方法优势1.在匹配元素上绑定一个或多个事件的事件处理函数
				4. on()方法优势2.可以委派事件操作.
				5. on()方法优势3.可以给动态创建的元素绑定事件.
				6. off()方法可以移除通过on()方法添加的事件处理程序
				7. one()方法 只能触发事件一次
				*/
				//1.在匹配元素上绑定一个或多个事件的事件处理函数
				$('.box2').on({
					mouseenter: function() {
						$(this).css('background', 'red');
					},
					click: function() {
						$(this).css('background', 'blue');
					}
				});
				$('.box3').on('mouseenter mouseleave', function() {
					$(this).toggleClass('current');
				})

				//2.事件委托,click是绑定在ul身上的,但是触发的对象是ul里的li
				$('ul').on("click", "li", function() {
					alert('123')
				});

				//3.给动态创建的元素绑定事件.
				$('ol').on("click", "li", function() {
					alert('123')
				});
				var li = $("<li>后来创建的</li>");
				$('ol').append(li);

				//4,事件解绑
				$(".box4").on({
					click: function() {
						alert("我点击了");
					},
					mouseover: function() {
						alert('我鼠标经过了');
					}
				});
				//$('.box4').off(); 解除所有事件
				$('.box4').off('mouseover'); //解除鼠标经过

				//5.one()方法 只能触发事件一次
				$('p').one('click', function() {
					alert("只有这一次机会!!!")
				});


				/* 三、--自动触发事件trigger()--
				1. element.click() 
				2. element.trigger('type');
				3. element.triggerHandler('type');
				*/
				$('.box5').on('click', function() {
					alert('自动触发');
				})
				//自动触发1
				$('.box5').click();
				//自动触发2
				$('.box5').trigger('click');
				//自动触发3
				$('.box5').triggerHandler('click'); // 就是不会触发元素的默认行为


				/* 四、--jQuery事件对象-- 
				1. 事件被触发就会有事件对象产生
				2. element.on(events,[selector],function(even){});
				3. 阻止默认行为:event.preventDefaul() 或者 return false
				4. 阻止冒泡行为:event.stopPropagation();
				*/
				$('.box6').on('click', function(event) {
					console.log(event);
				})


				/* 五、--对象拷贝--
				 1. 如果想把某个对象拷贝(合并)给另一个对象使用,可以使用$.exteen()
				 2. 语法:$.extend([deep],target,object1,[objectN])
				 3. 参数(1) deep:如果设置为true为深拷贝,false为浅拷贝
				        (2) target 要拷贝的目标
						(3) object1 待拷贝到第一个对象的对象 		
				 */
				var targetObj = {
					id: 0,
					msg: {
						sex: '男'
					}
				};
				var obj = {
					id: 1,
					name: "andy",
					msg: {
						age: 18
					}
				};
				//浅拷贝把原来对象里面的复杂数据类型地址拷贝给目标对象
				$.extend(targetObj, obj);
				console.log(targetObj); // 会覆盖targetObj 里面原来的数据
				targetObj.msg.age = 20;
				console.log(targetObj);
				console.log(obj);
				//深拷贝把里面的数据完全复制一份给目标对象 如果里面有不冲突的属性,会合并到一起 
				$.extend(true, targetObj, obj);
				console.log(targetObj); // 会覆盖targetObj 里面原来的数据
				targetObj.msg.age = 20;
				console.log(targetObj); // msg :{sex: "男", age: 20}
				console.log(obj);

			});
		</script>
	</head>
	<body>
		<div class="box1"></div>
		<div class="box2"></div>
		<div class="box3"></div>
		<ul>
			<li>我们都是好孩子</li>
			<li>我们都是好孩子</li>
			<li>我们都是好孩子</li>
		</ul>
		<ol> </ol>
		<div class="box4"></div>
		<p>我是one</p>
		<div class="box5"></div>
		<div class="box6"></div>
	</body>
</html>
