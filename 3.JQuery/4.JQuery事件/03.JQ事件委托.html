<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JQ事件委托</title>
    <script src="../0.File/jquery.min.js"></script>
    <script>
        window.onload = function(){
            /*--事件委托--
            *   一、delegate方法
            *       绑定语法:父元素.delegate(子元素(选择器)，事件名称，回调函数);
            *       解绑语法:父元素.undelegate();
            *
            *   二、事件委托,click是绑定在ul身上的,但是触发的对象是ul里的li
            * */
            $('ul').delegate('.test', 'click', function () {
                this.style.backgroundColor = 'pink';
            });
            // 点击btn1  新增li
            $('#btn1').click(function () {
                $('ul').append('<li>我是新增的li</li>')
            })
            // 点击btn2 解绑事件委托
            $('#btn2').click(function () {
                $('ul').undelegate();
            })

            $('ul').on("click", "li", function () {
                alert('123')
            });
        }
    </script>
</head>
<body>
<ul>
    <li><span class="test">111</span></li>
    <li><span class="test">222</span></li>
    <li><span class="test">333</span></li>
    <li><span class="test">444</span></li>
</ul>
<button id="btn1">增加新的li</button>
<button id="btn2">解除事件委托</button>
</body>
</html>