<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>箭头函数</title>
    <style>
        div {
            width: 200px;
            height: 200px;
            background: #58a;
        }
    </style>
    <script>
        window.onload = function () {
            /**
             * ---ES6 允许使用「箭头」（=>）定义函数---
             *      1.函数的声明
             *          let HD =（形参，形参） => {代码块};
             * 
             *      2.函数的调用
             *          let result = HD(参数，参数);
             *      
             *      3.函数的特点
             *          (1) this 的值是静态的. this 始终指向箭头函数定义时的所在作用域下的 this 的值
             *          (2) 不能作为构造函数使用
             *          (3) 不能使用 arguments 
             * 
             *      4.函数的简写
             *          (1) 省略小括号    当形参有且只有一个的时候
             *          (2) 省略花括号    当代码体只有一条语句的时候, 语句的执行结果就是函数的返回值
             * 
             *      5.
             *          (1) 箭头函数  适合做与 this 无关的回调函数. 数组方法的回调
             *          (2) 箭头函数不适合做与 this 有关的回调函数. 对象的方法, DOM 元素事件回调
             */
            //声明格式 
            let add = (a, b, c) => {
                return a + b + c;
            };
            // 函数调用
            let result = add(1, 2, 100);
            console.log(result);

            // 箭头函数特点1:this 的值是静态的. this 始终指向箭头函数定义时的所在作用域下的 this 的值

            //设置全局对象的 window name属性
            window.name = '尚硅谷';
            let school = {
                name: 'ATGUIGU'
            }
            //创建函数
            let getName = () => {
                console.log(this.name);
            };

            function getName2() {
                console.log(this.name);
            }
            //进行调用和通过 call 方法调用  进行对比
            getName(); //尚硅谷
            getName.call(school); //尚硅谷
            getName2(); //尚硅谷
            getName2.call(school); //ATGUIGU


            // 箭头函数特点2:不能作为构造函数使用&&不能使用 arguments 
            // let Person = (name,age) => {
            //     this.name = name;
            //     this.age = age;
            // };
            // let me = new Person('xiaohigh',34); //X 报错

            // let fn = () => {
            //     console.log(arguments);
            // }
            // fn();



            /* 案例一:需求-点击 div 2s 后颜色变成「粉色」 */
            //获取 div 元素对象
            let div = document.getElementsByTagName('div')[0];

            div.addEventListener('click', function () {
                setTimeout(() => {
                    this.style.background = 'pink';
                }, 2000);
            });

            /* 案例二:需求-从数组中返回偶数的元素 */
            let arr = [1, 2, 6, 9, 10, 199, 200];

            let result = arr.filter(function (item) {
                if (item % 2 === 0) {
                    return true;
                }
            });

            let res = arr.filter(item => item % 2 === 0);
            console.log(result);
            console.log(res);
        }
    </script>
</head>

<body>
</body>

</html>