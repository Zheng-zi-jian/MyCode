<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set唯一集合</title>
</head>
<body>
    <script>
        /* 
            ES6提供了新的数据结构Set(集合).它类似与数组,但是成员的值都是唯一的,集合实现了iterator的接口.
                所以可以使用--扩展运算符--和--for of--进行遍历

            集合的属性和方法
                (1) size 返回集合的个数ji
                (2) add  增加一个新的元素,并返回当前集合
                (3) delete 删除元素
                (4) has() 检测集合中是否包含指定元素,返回boolean值
                (5) clear 清空集合,返回unde
        
         */
        // 1.创建一个Set
        let s1 = new Set();
        let s2 = new Set([1,2,3,3,4,5,2,1]);
        console.log(s1);//空
        console.log(s2);//1,2,3,4,5

        // 2.属性:可以自动去重
        console.log(s2.size);//5

        // 3.方法:
        s2.add(6);   //添加
        s2.delete(5);//删除
        s2.has(2);   //检测是否含有某元素,返回布尔值
        for(let v of s2){console.log(v)} //遍历

        //-----------案例----------------
        
        //1.数组的去重
        let arr1 = [1,2,3,4,2,3,2,1,5];
        new Set(arr1)//返回的不是一个数组
        let newArr1 = [...new Set(arr1)];
        console.log(newArr1);


        //2.求交集
        let arr2 = [3,4,5,5,4,3,6,7,8];
        let arr3 = [1,2,3,4,2,3,2,1,5];
        let newArr2 = [...new Set(arr3)].filter(function(item){
            //使用目标数组创建一个集合
            let min = new Set(arr2);
            return min.has(item);
        });
        console.log(newArr2);

        //3.求并集
        let union = [...new Set([...arr2,...arr3])];
        console.log(union);

        //4.求差集
        let diff = [...new Set(arr1)].filter(function(item){
            let s2 = new Set(arr2);
            //判断 item 是否存在与 s2 中, 如果不存在则表示该元素为差集的一个值
            if(s2.has(item)){
                return false;
            }else{
                return true;
            }
        })
        console.log(diff);
    </script>
</body>
</html>