<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>函数的分类</title>
    <script>
        /*
          --立即执行函数（IIFE）:创建后立即执行，并且只能调用一次--
            (function(){
                console.log('hello');
            })();

          --高阶函数--
            1.定义,如果一个函数的参数是函数，或者函数的返回值是函数,则这个函数我们就称其为高阶函数.
            2.将函数作为参数的目的：动态的向函数内部传递代码.

          --回调函数（callback}--
            1.定义,将函数作为参数的函数，它是由我们定义的，但不由我们调用,这种函数被称为回调函数（callback）

          --箭头函数--
            1.定义,箭头函数专门用来定义这种作为参数的函数
            2.语法([形参...]) => 返回值
                (n) => n % 3 == 0)
            3.箭头函数的this，不由自己的调用方式决定，而是由外部作用域决定

          --ocp原则（开闭原则）--
             一段程序（代码）应该对修改关闭,对扩展开放.
        */

        var myArr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];
        //创建一个方法取偶数
        function isodd(n) {
            return n % 2 === 0;
        }

        //创建一个方法取奇数
        function iseven(n) {
            return n % 2 !== 0;
        }

        //创建一个函数
        function filter(myarr, callback) {
            var newArr = [];                            //创建一个新的数组用来存储符合条件的元素
            for (var i = 0; i < myarr.length; i++) {    //遍历数组中所有的元素
                if (callback(arr[i])) {                 //判断数组中的元素是否符合条件
                    newArr[newArr.length] = myarr[i];   //符合条件的元素添加到新的数组中
                }
            }
            return newArr;                              //返回新的数组
        }

        // 正常方式调用
        var result1 = filter(myArr, isodd); //调用函数进行数组的判断
        console.log(result1 + '');          //打印接收的结果

        //  回调函数方式调用
        var result2 = filter(myArr, function (n) {return n % 2 !== 0;}); //调任函数进行数组的判断
        console.log(result2 + '');  //打印接收的结果

        //  箭头函数方式调用
        var result3 = filter(myArr, (n) => n % 3 == 0); //调任函数进行数组的判断
        console.log(result3 + '');  //打印接收的结果

        //--箭头函数--
        var fn1 = (a, b) => a + b;         // 如果函数有多个参数,参数之间用","隔开.
        var fn2 = a => a + 10;             // 如果函数只有一个参数，可以省略().
        var fn3 = () => 30 + 10;           // 如果函数没有参数，必须写().
        var fn4 = () => ({a: 10, b: 33});  // 如果返回值是一个对象字面量，则必须在对象字面量外添加()

        var obj = {
            test: function () {
                var inner = () => console.log(this);
                inner();
            }
        }
        //箭头函数的this，不由自己的调用方式决定，而是由外部作用域决定
        obj.test();         //箭头函数inner的外部test是以方法的方式调用的  所以箭头函数inner和函数test的this指向Object
        var tt = obj.test;  // 将obj的test方法，赋值给一个变量tt
        tt();               //箭头函数inner的外部test是以函数的方法调用的  所以箭头函数inner和函数test的this指向Window
    </script>
</head>
<body>

</body>
</html>