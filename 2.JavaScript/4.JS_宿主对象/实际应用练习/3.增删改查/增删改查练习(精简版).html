<!DOCTYPE>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>添加删除记录练习-精简版</title>
    <style>
        h3, h2 {
            text-align: center;
        }

        #formDiv {
            width: 250px;
            margin: 5px auto;
        }

        #employeeTable {
            border-spacing: 1px;
            background-color: black;
            margin: 10px auto;
        }

        th, td {
            background-color: white;
        }
    </style>
    <script type="text/javascript">
        function DelA() {
            var tr = this.parentNode.parentNode;
            var name = tr.getElementsByTagName("td")[0].innerHTML;
            var res = confirm("是否删除" + name + "?");
            if (res) {
                tr.remove();
            }
            return false;
        }

        window.onload = function () {
            //删除
            var allA = document.getElementsByTagName("a");
            for (var i = 0; i < allA.length; i++) {
                allA[i].onclick = DelA;
            }
            //添加
            var addEmpButton = document.getElementById("addEmpButton");
            addEmpButton.onclick = function () {
                var name = document.getElementById("empName").value;
                var email = document.getElementById("email").value;
                var Salary = document.getElementById("salary").value;
                var tr = document.createElement("tr");
                tr.innerHTML =
                    "<td>" + name + "</td>" +
                    "<td>" + email + "</td>" +
                    "<td>" + Salary + "</td>" +
                    "<td><a href='javascript:;'>Delete</a></td>";
                var a = tr.getElementsByTagName("a")[0];
                a.onclick = DelA;
                var employeeTable = document.getElementById("employeeTable");
                var tbody = employeeTable.getElementsByTagName("tbody")[0];
                if (name == "" && email == "" && Salary == "") {
                    alert("请输入信息!!!")
                } else {
                    tbody.appendChild(tr);
                }

                (function () {
                    document.getElementById("empName").value = null;
                    document.getElementById("email").value = null;
                    document.getElementById("salary").value = null;
                })();
            };
        }
    </script>
</head>
<body>
<div id="formDiv">
    <h4>添加新员工</h4>
    <table>
        <tr>
            <td class="word">Name:</td>
            <td class="inp">
                <input type="text" name="empName" id="empName"/>
            </td>
        </tr>
        <tr>
            <td class="word">Email:</td>
            <td class="inp">
                <input type="text" name="email" id="email"/>
            </td>
        </tr>
        <tr>
            <td class="word">Salary:</td>
            <td class="inp">
                <input type="text" name="salary" id="salary"/>
            </td>
        </tr>
        <tr>
            <td colspan="2" align="center">
                <button id="addEmpButton" value="abc">Submit</button>
            </td>
        </tr>
    </table>
</div>

<table id="employeeTable">
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Salary</th>
        <th>&nbsp;</th>
    </tr>
    <tr>
        <td>Tom</td>
        <td>tom@tom.com</td>
        <td>5000</td>
        <td><a href="javascript:;">Delete</a></td>
    </tr>
    <tr>
        <td>Jerry</td>
        <td>jerry@sohu.com</td>
        <td>8000</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
    <tr>
        <td>Bob</td>
        <td>bob@tom.com</td>
        <td>10000</td>
        <td><a href="deleteEmp?id=003">Delete</a></td>
    </tr>
</table>
</body>
</html>
