<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>鼠标的滚轮事件</title>
		<style>
			#box1 {
				width: 100px;
				height: 100px;
				background-color: #9ACD32;
			}
		</style>
		<script>
			window.onload = function() {
				var box1 = document.getElementById("box1");
				//绑定滚轮事件onmousewheel  (不支持火狐)
				//在火狐中需要DOMMouseScroll 来绑定滚动事件,
				//该事件需要通过addEventListener()函数来绑定
				//非火狐浏览器
				box1.onmousewheel = fun;
				//火狐浏览器
				bind(box1, "DOMMouseScroll", fun);

				function fun(event) {
					event = event || window.event;
					//判断鼠标滚轮滚动的方向

					//wheelDelta 可以获取滚轮滚动的方向(火狐不支持)
					//正值:滚轮向上滚动; 负值:滚轮向下滚动
					//alert(event.wheelDelta);

					//在火狐浏览器中,使用detail
					//正值:滚轮向下滚动; 负值:滚轮向上滚动
					//alert(event.detail);
					if (event.wheelDelta > 0 || event.detail < 0) {
						//向上滚动,box1变短
						box1.style.height = box1.clientHeight - 10 + "px";
					} else {
						//向下滚动,box1变长
						box1.style.height = box1.clientHeight + 10 + "px";
					};
					/*
					 * 使用addEventListener()方法绑定响应函数，取消默认行为时不能使用return false
					 * 需要使用event来取消默认行为event.preventDefault();
					 * 但是IE8不支持event.preventDefault();这个玩意，如果直接调用会报错
					 */
					event.preventDefault && event.preventDefault();
					//取消滚轮滚动滚动条的默认行为
					return false;
				};
			};

			function bind(obj, eventStr, callback) {
				if (obj.addEventListener) {
					obj.addEventListener(eventStr, callback, false);
				} else {
					obj.attachEvent("on" + eventStr, function() {
						callback.call(obj);
					});
				}
			}
		</script>
	</head>
	<body style="height: 2000px;">
		<div id="box1"></div>
	</body>
</html>
