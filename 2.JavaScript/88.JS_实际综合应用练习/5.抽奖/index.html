<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>抽奖</title>
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript">
        window.onload = function () {
            //创建数组用来储存用户信息
            var arr = ["赵妮宝17057274086", "孟宁龙17047810451", "李进阳17088323008", " 张苏17013906513", "吴娄珂17066699826",
                "胡博鸣17082120892", "易子17068674477", "贺海17013714174", "朱晓17063519184", "赵起辉17093003334",
                "郭春17049709288", "叶傲英17097762881", "徐万宇17016398304", "张绍17018681702", "张广能17050787728",
                "张士龙17040039698", "吴佳17077768696", "秦纪芳17043299107", "汪重17074968053", "刘新龙17076374728",
                "王浩17085792082", "部明辉17051962595", "乔鹏新17073718087", "高云17069308701", "刘思辉17085667441",
                "邹晓雨17041121612", "刘富坡17033055475", "王鹏瑞17080726451", "王鹏庆17061260529", "冯昊17089553046",
                "苏创彬17065511460"];
            //创建一个变量,初始换控制定时器开关
            var timer = null;
            //获取数据跳动区域
            var show = document.querySelector(".showing");
            //获取结果展示
            var result = document.getElementById("rst");
            //创建一个变量用来存储随机数
            var rand;
            //开始
            document.getElementById('star').onclick = function () {
                start();
            }
            //结束
            document.getElementById('end').onclick = function () {
                stop();
            }

            //开始抽奖
            function start() {
                //进入函数,开始判断
                if (!timer) {
                    //创建定时器
                    timer = setInterval(function change() {
                        //获取数组最大的索引值
                        var max = arr.length - 1;
                        //生成一个0-max之间的随机数
                        rand = Math.round(Math.random() * max);
                        //显示跳动的字符
                        show.innerHTML = arr[rand];
                    }, 50);
                }
            }

            //停止按钮
            function stop() {
                //关闭定时器
                clearInterval(timer);
                //变量置空
                timer = null;
                //设置结果
                //创建标签
                var res = document.createElement('p');
                //添加结果
                res.innerText = show.innerHTML;
                //获取box
                var box1 = document.querySelector('.box1');
                var box2 = document.querySelector('.box2');
                var box3 = document.querySelector('.box3');
                var box4 = document.querySelector('.box4');

                if (box1.children.length < 2) {
                    box1.appendChild(res);
                } else if (box2.children.length < 3) {
                    box2.appendChild(res);
                } else if (box3.children.length < 4) {
                    box3.appendChild(res);
                } else if (box4.children.length < 5) {
                    box4.appendChild(res);
                }
                //删除已经出现的信息,保证不会重复
                arr.splice(rand,1);
                console.log(arr);
            }
        }
    </script>
</head>
<body>
<div class="wrap">
    <!--按钮区域-->
    <div class="btn">
        <!--开始按钮-->
        <button id="star">开始</button>
        <!--结束按钮-->
        <button id='end'>停止</button>
    </div>

    <!--轮播显示区域-->
    <div class="showing">请点击"开始"进行抽奖!!!</div>

    <!--结果区域-->
    <div class="show">
        <div class="box1">
            <p> 一等奖 </p>
        </div>
        <div class="box2">
            <p> 二等奖 </p>
        </div>
        <div class="box3">
            <p> 三等奖 </p>
        </div>
        <div class="box4">
            <p> 幸运奖 </p>
        </div>
    </div>

    <!--    <input type="text" id="rst" value="">-->
</div>
</body>
</html>