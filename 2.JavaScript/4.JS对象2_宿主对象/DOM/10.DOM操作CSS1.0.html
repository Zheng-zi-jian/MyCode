<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>使用DOM操作CSS</title>
		<style>
			#box1,
			#box2 {
				width: 100px;
				height: 100px;
				background-color: red;
			}
		</style>
		<script>
			window.onload = function() {
				// 获取box1
				var box1 = document.getElementById("box1");
				// 绑定box1按钮
				var btn01 = document.getElementById("btn01")
				var btn02 = document.getElementById("btn02");
				var btn03 = document.getElementById("btn03");
				//-------------------操作内联样式

				// 需求1:点击按钮,修改box1样式
				/*
				通过JS修改元素的样式(通过style属性设置行内样式),
				-语法:元素.style.样式名="样式值";
				注意:
				1.如果通过CSS的样式名中含有-,则样式名改为驼峰命名发.
				2.因为内联样式具有较高优先级,所以通过JS修改样式会立即显示.
				3.如果在样式中写!important ,则此时样式会有最高优先级,即使使用JS也不能修改.
				*/
				btn01.onclick = function() {
					box1.style.width = "150px";
					box1.style.backgroundColor = "blue";
				};

				// -------------------读取内联样式

				// 需求2:点击按钮,读取元素行内样式
				btn02.onclick = function() {
					alert(box1.style.width);
				};


				// -------------------读取当前样式

				//IE
				// 需求3:获取元素的当前显示的样式
				// 语法:元素.currentStyle.样式名
				btn03.onclick = function() {
					alert(box1.currentStyle.width);
				};
				// 缺点:它可以用来读取当前元素正在显示的样式.但.只有ie支持!!!

				/* 
				在其他浏览器中(非IE),
				可以使用getComputedStyle();这个方法来获取元素当前的样式.
				这个方法是window的方法,可以直接使用
				需要两个参数,
				1,第一个要获取样式的元素   
				2,第二个可以传递一个伪元素   一般传null
				会返回一个对象 对象中封装了当前元素的对应样式
				不支持IE8及一下
				*/
				var obj = getComputedStyle(box1, null);
				btn03.onclick = function() {
					alert(obj.backgroundColor);
					//测试
					// var test = getStyle(box1,"backgroundColor");
					// alert(test);
				};
			}
			//为了同时兼容浏览器和IE,定义一个getStyle函数  可以兼容所有浏览器
			function getStyle(obj, name) {
				//判断getComputedStyle是否存在
				if (window.getComputedStyle) {
					//若存在   正常浏览器
					return getComputedStyle(obj, null)[name];
				} else {
					//若不存在  IE8
					return obj.currentStyle[name];
				}
			}
		</script>
	</head>
	<body>
		<div id="box1"></div>
		<button id="btn01">修改样式</button>
		<button id="btn02">读取行内样式</button>
		<button id="btn03">读取当前样式</button>
	</body>
</html>
