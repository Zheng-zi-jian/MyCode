<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>定时调用setInterval()</title>
		<script type="text/javascript">
			window.onload = function() {
				var time = document.getElementById("time");
				time.onclick = function() {
					//获取count
					var count = document.getElementById("count");
					/*
					 * 需求:使count中的内容，自动切换(JS的程序的执行速度是非常非常快的)
					 * 如果希望一段程序，可以每间隔一段时间执行一次，可以使用定时调用 
					 * setInterval(function(){},时间)
					 * 	- 定时调用
					 * 	- 可以将一个函数，每隔一段时间执行一次
					 * 	- 参数：
					 * 		1.回调函数，该函数会每隔一段时间被调用一次
					 * 		2.每次调用间隔的时间，单位是毫秒
					 * 
					 * 	- 返回值：
					 * 		返回一个Number类型的数据
					 * 		这个数字用来作为定时器的唯一标识
					 */
					var num = 60;
					var timer = setInterval(function() {
						count.innerHTML = num--;
						if (num == 0) {
							//关闭定时器:clearInterval()可以用来关闭一个定时器
							clearInterval(timer);
						}
					}, 1000);				
				};

				//--------------------------------------------------------------------

				var kaishi = document.getElementById("btn01");
				var tingzhi = document.getElementById("btn02");
				var timer;
				btn01.onclick = function() {
					var img1 = document.getElementById("img1");
					var imgArr = ["img/1.jpg", "img/2.jpg", "img/3.jpg", "img/4.jpg", "img/5.jpg"];
					var index = 0;
					clearInterval(timer);
					timer = setInterval(function() {
						index++;
						if (index >= imgArr.length) {
							index = 0;
						}
						img1.src = imgArr[index];
					}, 1500);
				};
				btn02.onclick = function() {
				clearInterval(timer);
				};
			};
		</script>
	</head>
	<body>
		<button id="time">开始倒计时</button>
		<h1 id="count">60</h1>
		<img style="display: block;" id="img1" src="img/1.jpg" />
		<button id="btn01">开始</button>
		<button id="btn02">停止</button>
	</body>
</html>
