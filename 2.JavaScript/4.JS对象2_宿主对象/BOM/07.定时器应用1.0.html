<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>定时器的应用</title>
		<style>
			#s {
				width: 0;
				top: 0;
				left: 500px;
				height: 500px;
				border-left: 1px black solid;
				position: absolute;
			}
			#box1 {
				width: 100px;
				height: 100px;
				background-color: #9ACD32;
				position: absolute;
				left: 8px;
			}
		</style>
		<script>
			window.onload = function() {
				var box1 = document.querySelector('#box1');
				var btn01 = document.querySelector('#btn01');
				var btn02 = document.querySelector('#btn02');
				var timer;
				//向左移动
				btn01.onclick = function() {
					// clearInterval(timer);
					timer = setInterval(function() {
						//获取box1 原来的left值
						var oldvalue = parseInt(getStyle(box1, "left"));
						//修改box1的位置
						var newvalue = oldvalue + 7;
						if (newvalue > 500) {
							newvalue = 500;
						}
						box1.style.left = newvalue + "px";
						if (newvalue == 500) {
							clearInterval(timer);
						};
					}, 30);
				};
				//向右移动
				btn02.onclick = function() {
					clearInterval(timer);
					timer = setInterval(function() {
						var oldvalue = parseInt(getStyle(box1, "left"));
						var newvalue = oldvalue - 7;
						if (newvalue < 0) {
							newvalue = 0;
						}
						box1.style.left = newvalue + "px";
						if (newvalue == 0) {
							clearInterval(timer);
						};
					}, 30);
				};
			};

			function getStyle(obj, name) {
				if (window.getComputedStyle) {
					return getComputedStyle(obj, null)[name];
				} else {
					return obj.currentStyle[name];
				};
			};
		</script>
	</head>
	<body>
		<button id="btn01" style="width: 80px;">向右移动</button>
		<button id="btn02" style="width: 80px;">向左移动</button>
		<div id="box1"></div>
		<div id="s"></div>
	</body>
</html>
